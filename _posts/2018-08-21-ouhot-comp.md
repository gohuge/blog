---
layout: post
title: "【ouhot】组件说明"
date: 2018-08-21 11:05:57
img: ouhot_gl.png
category: ouhot
tags: [ouhot]
---
- 组件说明

- 项目采用了多款github的开源框架，各司其职共同组成一条业务服务链，其中包括如下几点。
&nbsp;

#### 一、启动配置
框架运行后，会指定代码路径，子节点则会直接向master节点获取代码存放至缓存。
完成基础初始化后，开始读取所有的cfg文件，并解析，然后按照cfg中规则执行MFA，应用启动。

#### 二、网络组件
网络组件采用的是基于cowboy、ranch的封装，框架在此基础上做了消息路由规则，
让前端消息直接投递至用户进程，或业务处理进程，或甚至均衡分裂进程；
完成消息处理后，可以实时返回（同步消息），也可自由返回（异步消息）。

#### 三、数据库
数据库采用的是mnesia，还提供了mysql和二进制文件本地存储的解决办法，
需要采用redis或者其他存储方式的可以自定义组件。

#### 四、通信协议
采用google的protobuf，这里不详细说明protobuf的使用方法；
框架消息接收后，会根据通信cmd指定的protobuf协议进行解析，再路由出去。

#### 五、性能监控
Erlang的性能监控，通常就集中etop，eprof，框架也内置了Fred 的recon工具。

#### 六、日志
采用loger组件，但框架还提供了一套落地系统，可配置到指定节点运行。

#### 七、事件
采用goldrush，框架还提供了一套可供配置的功能事件系统。

#### 八、工具类库
封装了ouhot提供的大量的业务封装模块，如：
定时器、密码、数学、文件、rpc、字符串、时间等。

#### 九、功能插件
属于该框架的测试插件，包含模板，protobuf的通信测试，uno牌实现，等。
