---
layout: post
title: "【ouhot】分布式"
date: 2018-08-16 13:47:57
category: ouhot
tags: [ouhot]
---

- 分布式问题

- 脑裂、主从竞争、动态规划
&nbsp;

#### 分布式缓存

框架提供了两种分布式的缓存解决方案
- 均衡式散列

    均衡式散列的原理，是通过Key进行hash环处理，定位到所在节点进程。

- 切片式散列

    切片式散列的原理，通过数据范围进行分布，每个范围区间由该区间的进程进行数据维护。
    这种方式下，可以为区间直接指定节点。
 
#### 分布式逻辑

框架提供了分散运算结果归并的接口，可以将数据拆分路由到各个计算节点同时进行MFA的业务处理然后将结果归并并返回，
这个接口的目的在于，有且需要立即对大量数据进行处理的业务。

#### 分布式散列

与数据散列不同的是，提供的是进程的均衡散列，通过该接口创建的进程会根据几种规则散列到对应的服务器节点中，
这些规则有，比如想要一个大区的所有场景只分配到指定的三个节点。

#### 分布式定时器

定时器，通常有全局定时器，本地定时器，局部定时器，对于一款游戏如果节点容灾出现问题出现两个全局定时器，
可能造成业务处理多次，奖励发送多次；而有些业务有需要本地定时器，或局部定时器。框架提供了全局定时器
业务散列到负载较低的节点进行处理，第二次业务可能又在另外一台机器处理。
