---
layout: post
title: 用户系统设计
date: 2019-08-02 11:32:20
description: user system
img: i-rest.jpg # Add image post (optional)
tags: [blog]
---
## 预期：设计一套适用于我们项目的用户系统在于解决
1. 业务路由，使节点更符合层的业务实现
2. 用户数据缓存，可为数据库降低消耗
3. 用户行为管理，业务综合到用户进程，数据并发性降低
4. 进程消耗降低，将会降低网关层和业务层的进程开辟量，转而使用常驻进程
5. 节点或业务节点扩展更灵活，数据聚合管理和散列管理，更容易实现。

## 考虑
1. 用户进程是否常驻
用户进程可以常驻，也可以不用常驻，在不常驻的情况下，只需要用户系统知道用户
应该在哪台节点上处理自己的业务就可以了。

常驻，肯定会比不常驻多了维护成本。

用户进程挂了，或user_system挂了 ，绑在session上的pid就要更新。

2. 用户缓存
多个用户系统进程，还是只需要一个。
只有一个的消息量可能有点大。